'use strict';(function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(e){e.defineMode("dylan",function(e){function l(a,f,b){f.tokenize=b;return b(a,f)}function m(a,f){var b=a.peek();if("'"==b||'"'==b)return a.next(),l(a,f,n(b,"string"));if("/"==b){a.next();if(a.eat("*"))return l(a,f,r);if(a.eat("/"))return a.skipToEnd(),"comment";a.backUp(1)}else if(/[+\-\d\.]/.test(b)){if(a.match(/^[+-]?[0-9]*\.[0-9]*([esdx][+-]?[0-9]+)?/i)||
a.match(/^[+-]?[0-9]+([esdx][+-]?[0-9]+)/i)||a.match(/^[+-]?\d+/))return"number"}else{if("#"==b){a.next();b=a.peek();if('"'==b)return a.next(),l(a,f,n('"',"string"));if("b"==b)return a.next(),a.eatWhile(/[01]/),"number";if("x"==b)return a.next(),a.eatWhile(/[\da-f]/i),"number";if("o"==b)return a.next(),a.eatWhile(/[0-7]/),"number";if("#"==b)return a.next(),"punctuation";if("["==b||"("==b)return a.next(),"bracket";if(a.match(/f|t|all-keys|include|key|next|rest/i))return"atom";a.eatWhile(/[-a-zA-Z]/);
return"error"}if("~"==b)return a.next(),b=a.peek(),"="==b&&(a.next(),b=a.peek(),"="==b&&a.next()),"operator";if(":"==b){a.next();b=a.peek();if("="==b)return a.next(),"operator";if(":"==b)return a.next(),"punctuation"}else{if(-1!="[](){}".indexOf(b))return a.next(),"bracket";if(-1!=".,".indexOf(b))return a.next(),"punctuation";if(a.match("end"))return"keyword"}}for(var c in d)if(d.hasOwnProperty(c)&&(f=d[c],f instanceof Array&&f.some(function(b){return a.match(b)})||a.match(f)))return t[c];if(/[+\-*\/^=<>&|]/.test(b))return a.next(),
"operator";if(a.match("define"))return"def";a.eatWhile(/[\w\-]/);if(p[a.current()])return q[a.current()];if(a.current().match(u))return"variable";a.next();return"variable-2"}function r(a,c){for(var b=!1,d=!1,h=0,g;g=a.next();){if("/"==g&&b)if(0<h)h--;else{c.tokenize=m;break}else"*"==g&&d&&h++;b="*"==g;d="/"==g}return"comment"}function n(a,c){return function(b,d){for(var h=!1,g,e=!1;null!=(g=b.next());){if(g==a&&!h){e=!0;break}h=!h&&"\\"==g}if(e||!h)d.tokenize=m;return c}}var c={unnamedDefinition:["interface"],
namedDefinition:"module library macro C-struct C-union C-function C-callable-wrapper".split(" "),typeParameterizedDefinition:["class","C-subtype","C-mapped-subtype"],otherParameterizedDefinition:["method","function","C-variable","C-address"],constantSimpleDefinition:["constant"],variableSimpleDefinition:["variable"],otherSimpleDefinition:["generic","domain","C-pointer-type","table"],statement:"if block begin method case for select when unless until while iterate profiling dynamic-bind".split(" "),
separator:"finally exception cleanup else elseif afterwards".split(" "),other:"above below by from handler in instance let local otherwise slot subclass then to keyed-by virtual".split(" "),signalingCalls:"signal error cerror break check-type abort".split(" ")};c.otherDefinition=c.unnamedDefinition.concat(c.namedDefinition).concat(c.otherParameterizedDefinition);c.definition=c.typeParameterizedDefinition.concat(c.otherDefinition);c.parameterizedDefinition=c.typeParameterizedDefinition.concat(c.otherParameterizedDefinition);
c.simpleDefinition=c.constantSimpleDefinition.concat(c.variableSimpleDefinition).concat(c.otherSimpleDefinition);c.keyword=c.statement.concat(c.separator).concat(c.other);var u=/^[-_a-zA-Z?!*@<>$%]+/,d={symbolKeyword:"[-_a-zA-Z?!*@<>$%]+:",symbolClass:"<[-_a-zA-Z?!*@<>$%]+>",symbolGlobal:"\\*[-_a-zA-Z?!*@<>$%]+\\*",symbolConstant:"\\$[-_a-zA-Z?!*@<>$%]+"},t={symbolKeyword:"atom",symbolClass:"tag",symbolGlobal:"variable-2",symbolConstant:"variable-3"},k;for(k in d)d.hasOwnProperty(k)&&(d[k]=new RegExp("^"+
d[k]));d.keyword=[/^with(?:out)?-[-_a-zA-Z?!*@<>$%]+/];var v={keyword:"keyword",definition:"def",simpleDefinition:"def",signalingCalls:"builtin"},p={},q={};["keyword","definition","simpleDefinition","signalingCalls"].forEach(function(a){c[a].forEach(function(c){p[c]=a;q[c]=v[a]})});return{startState:function(){return{tokenize:m,currentIndent:0}},token:function(a,c){return a.eatSpace()?null:c.tokenize(a,c)},blockCommentStart:"/*",blockCommentEnd:"*/"}});e.defineMIME("text/x-dylan","dylan")});
